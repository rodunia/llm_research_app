```yaml
   name: Deploy to Hugging Face Spaces

   on:
     push:
       branches:
         - main
     workflow_dispatch:

   jobs:
     deploy:
       runs-on: ubuntu-latest
       steps:
         - name: Checkout code
           uses: actions/checkout@v3
           with:
             fetch-depth: 0
             lfs: true

         - name: Push to Hugging Face Space
           env:
             HF_TOKEN: ${{ secrets.HF_TOKEN }}
           run: |
             git config --global user.email "github-actions[bot]@users.noreply.github.com"
             git config --global user.name "github-actions[bot]"
             git remote add hf https://oauth:$HF_TOKEN@huggingface.co/spaces/${{ secrets.HF_SPACE_NAME }}
             git push hf main --force
   ```
